<!DOCTYPE html>
<html>

<head>
    <title>Big Five Scores</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/personality.css')}}">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="results-container">
    <nav>
        <div class="nav-logo-container">
            <img src="static/images/Logo.png" alt="">
        </div>
        <div class="navbar-links-container">
            <a href="#">Home</a>
            <a href="#">CV Ranking</a>
            <a href="#">Academic Transcript</a>
            <a href="#">Professional Skills</a>
            <a href="#">Personality</a>
        </div>
    </nav>

    <div class="content-wrapper">
        <br />
        <h1 class="results-title">Personality Trait Scores</h1>
        <br />
        <div class="results-table-container">
            <br />
            <table class="results-table">
                <tr>
                    <th class="candidate-name" colspan="6">
                        <div class="candidate-name-left">Candidate Name: {{ name }}</div>
                    </th>
                </tr>
                <tr>
                    <th></th>
                    <th class="table-headers">Openness</th>
                    <th class="table-headers">Concientiousness</th>
                    <th class="table-headers">Extraversion</th>
                    <th class="table-headers">Agreeableness</th>
                    <th class="table-headers">Neuroticism</th>
                </tr>
                <tr>
                    <th>Self-rating</th>
                    <td>{{ opn_score1 }}</td>
                    <td>{{ csn_score1 }}</td>
                    <td>{{ ext_score1 }}</td>
                    <td>{{ agr_score1 }}</td>
                    <td>{{ neu_score1 }}</td>
                </tr>
                <tr>
                    <th>Open-ended</th>
                    <td>{{ opn_score2 }}</td>
                    <td>{{ csn_score2 }}</td>
                    <td>{{ ext_score2 }}</td>
                    <td>{{ agr_score2 }}</td>
                    <td>{{ neu_score2 }}</td>
                </tr>
                <tr>
                    <th class="final-scores">Final Scores</th>
                    <td class="final-scores">{{ opn_score }}</td>
                    <td class="final-scores">{{ csn_score }}</td>
                    <td class="final-scores">{{ ext_score }}</td>
                    <td class="final-scores">{{ agr_score }}</td>
                    <td class="final-scores">{{ neu_score }}</td>
                </tr>
                <tr>
                    <th class="expected-scores">Expected Scores</th>
                    <td class="expected-scores">{{ exp_openness }}</td>
                    <td class="expected-scores">{{ exp_conscientiousness }}</td>
                    <td class="expected-scores">{{ exp_extraversion }}</td>
                    <td class="expected-scores">{{ exp_agreeableness }}</td>
                    <td class="expected-scores">{{ exp_neuroticism }}</td>
                </tr>
                <tr>
                    <th class="match-score" colspan="6">
                        <div class="match-score">Candidate personality - Job role match: {{ match_percentage }}%</div>
                    </th>
                </tr>
            </table>
        </div>

        <div class="radar-chart-container">
            <canvas id="radarChart" width="450" height="450"></canvas>
        </div>

        <!-- <img class="results-image" src="static/images/results-image.jpg" alt="Results Image"> -->

        <script>
            // Get the context of the canvas element
            var ctx = document.getElementById('radarChart').getContext('2d');

            // expected scores
            var expOpenness = {{ exp_openness }};
            var expConscientiousness = {{ exp_conscientiousness }};
            var expExtraversion = {{ exp_extraversion }};
            var expAgreeableness = {{ exp_agreeableness }};
            var expNeuroticism = {{ exp_neuroticism }};

            // candidate scores
            var candOpenness = {{ opn_score }};
            var candConscientiousness = {{ csn_score }};
            var candExtraversion = {{ ext_score }};
            var candAgreeableness = {{ agr_score }};
            var candNeuroticism = {{ neu_score }};

            // Data for the radar chart
            var radarData = {
                labels: ['Openness', 'Conscientiousness', 'Extraversion', 'Agreeableness', 'Neuroticism'],
                datasets: [
                    {
                        label: 'Expected Scores',
                        data: [
                            expOpenness,
                            expConscientiousness,
                            expExtraversion,
                            expAgreeableness,
                            expNeuroticism
                        ],
                        backgroundColor: 'rgba(252,143,50, 0.2)', // Adjust the color
                        borderColor: 'rgba(237,139,0,1)', // Adjust the color
                        borderWidth: 2
                    },
                    {
                        label: 'Candidate Scores',
                        data: [
                            candOpenness,
                            candConscientiousness,
                            candExtraversion,
                            candAgreeableness,
                            candNeuroticism
                        ],
                        backgroundColor: 'rgba(119,221,119, 0.2)', // Adjust the color
                        borderColor: 'rgba(0,135,62,1)', // Adjust the color
                        borderWidth: 2
                    }
                ]
            };

            // Radar chart configuration
            var radarConfig = {
                type: 'radar',
                data: radarData,
                options: {
                    scale: {
                        ticks: {
                            beginAtZero: true,
                            max: 5,
                            stepSize: 1
                        },
                        pointLabels: {
                            fontSize: 14,
                            fontColor: '#333' // Adjust label color
                        },
                        gridLines: {
                            color: 'black' // Change grid line color to black
                        },
                    },
                    legend: {
                        display: false
                    }
                }
            };

            // Create the radar chart
            var radarChart = new Chart(ctx, radarConfig);
        </script>

        <br />
    </div>

    <footer class="site-footer">
        <div class="footer-container">
            <div class="row">
                <div class="col-sm-12 col-md-6">
                    <h4 class="footer-about">About</h4>
                    <p class="text-justify">Intellihire.com <i>Revolutionize Recruitment</i>: At IntelliHire, we're
                        dedicated to
                        simplifying talent acquisition. Our initiative strives to empower HR professionals and
                        recruiters of
                        the future by offering innovative solutions. We specialize in transforming the hiring landscape
                        through smart technology, AI-driven assessments, and seamless integrations. Join us to reshape
                        the
                        way you hire, embracing a future where hiring complexities are a thing of the past.</p>
                </div>



                <div class="col-xs-6 col-md-3">
                    <h4 class="quick-links">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="http://scanfcode.com/about/">About Us</a></li>
                        <li><a href="http://scanfcode.com/contact/">Contact Us</a></li>
                        <li><a href="http://scanfcode.com/privacy-policy/">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <hr>
        </div>
        <div class="copyright-container">
            <div class="row">
                <div class="col-md-8 col-sm-6 col-xs-12">
                    <p class="" copyright-text>Copyright &copy; 2017 All Rights Reserved by
                        <a href="#">Intellihire</a>.
                    </p>
                </div>
            </div>
        </div>
    </footer>

</body>

</html>